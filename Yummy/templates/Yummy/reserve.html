{% extends "Yummy/menu.html" %}
{% load static %}

{% block extra_css %}
    <link rel="stylesheet" href="../../static/Yummy/reserve.css">

    <script>
        function hideReservationButton() {
            console.log('test')
            var reservation_button = document.getElementById('reservation_button');
            if (reservation_button.classList.contains('hidden')) {
                reservation_button.classList.remove('hidden');
            }
        }
    </script>

{% endblock %}

{% block posts_header %}
    <section class="py-5 text-center container">
        <div class="row py-lg-5">
            <div class="col-lg-6 col-md-8 mx-auto">
                <h1 class="fw-light">Reserve Your Table</h1>
                <p class="lead text-muted">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                         class="bi bi-clock-fill"
                         viewBox="0 0 20 20">
                        <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"/>
                    </svg>
                    Service time: 11:00 A.M to 9:00 P.M Everyday
                </p>
            </div>
        </div>
    </section>
{% endblock %}


{% block content %}

    <section class="reservation">
        <div id="reservation form">
        <span {% if table_reserved %}
            class="hidden"
        {% else %}
            class="step-title"
        {% endif %}> Your Information </span>
            <form class="reservation_form" method="POST" onsubmit="hideReservationButton()">
                {% for field in form.visible_fields %}
                    {% csrf_token %}
                    <div>
                        <span>{{ field.label_tag }}</span>
                        <span>{{ field }}</span>
                    </div>
                {% endfor %}
                {% csrf_token %}
                <p>
                    <button action="{% url 'reserve' %}"
                            {% if table_reserved %}
                            class="hidden"
                            {% else %}
                            class="btn btn-primary my-2 reserve"
                            {% endif %}
                            type="submit"
                            id="reservation_button"
                    >Reserve
                    </button>
                </p>
            </form>
            <span class="lead text-muted message">{{ reserve_message }}</span>

        </div>
        <br>


    </section>

{% endblock %}