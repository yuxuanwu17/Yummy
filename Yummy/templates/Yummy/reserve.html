{% extends "Yummy/menu.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="../../static/Yummy/reserve.css">

<script>
function hideReservationButton() {
    console.log('test')
    var reservation_button = document.getElementById('reservation_button');
    if (reservation_button.classList.contains('hidden')) {
        reservation_button.classList.remove('hidden');
    }
}
</script>

{% endblock %}

{% block posts_header %}
<section class="py-5 text-center container">
    <div class="row py-lg-5">
        <div class="col-lg-6 col-md-8 mx-auto">
            <h1 class="fw-light">Reserve Your Table</h1>
            <p class="lead text-muted">
                Enjoy your food
            </p>
        </div>
    </div>
</section>
{% endblock %}


{% block content %}

<section class="reservation">
    <div id="reservation form">
        <span class="step-title"> Your Information </span>
        <form method="POST" onsubmit="hideReservationButton()">
            {% for field in form.visible_fields %}
            {% csrf_token %}
            <div>
                <span>{{field.label_tag}}</span>
                <span>{{field}}</span>
            </div>
            {% endfor %}
            {% csrf_token %}
            <p>
                <button action="{% url 'reserve' %}" 
                {% if table_reserved %}
                class="hidden"
                {% else %}
                class="btn btn-primary my-2 reserve"  
                {% endif %}
                type="submit"
                id="reservation_button"
                >Find</button>
            </p>
        </form>
        <span class="lead text-muted message">{{reserve_message}}</span>
        
    </div>
    <br>


</section>

{% endblock %}